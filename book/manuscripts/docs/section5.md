---
class: content
---

<div class="doc-header">
  <div class="doc-title">セキュリティグループの設定は柔軟性を持たせる</div>
  <div class="doc-author">モブエンジニア</div>
</div>

## はじめに

AWSでセキュリティグループを設定する際、「タイプ」から適切なプロトコルを選択するのが一般的です。しかし、実際の運用では、事前定義されたタイプだけでは対応できないケースも存在します。本記事では、セキュリティグループをより柔軟に活用するための設定方法について解説します。

# 持ち帰ってもらいたいこと

AWSネットワークに慣れてくるとセキュリティグループやVPCの設定をスムーズに行えると思います。そのうえで、セキュリティグループの**タイプ**設定は注意しないといけないと考えています。特に、ウェルノウンポート以外を利用して設計する必要があるプロジェクトでは**タイプの設定を誤って行うことで想定通りの通信が実現できない**といったリスクが発生します。

本セクションでは**タイプを活用して問題ない場合、活用しない方がいい場合の判断軸**を持ち帰ってもらいたいです。

## なぜタイプで設定できないのか

一般的にタイプで選択できるプロトコルは**ウェルノウンポート**と呼ばれる一般的によく利用されるポート番号で設定されます。そのうえで、ユーザ要件によっては「ウェルノウンポート以外のポート番号で設定してください」と言われた場合、「タイプからプロトコルを選定」⇒「宛先IPアドレス/送信先IPアドレス」だけでは足りない場合があります。そのため、セキュリティグループ設定時に「タイプをそのまま利用できる」と思い込まないで設定を進めた方がいい場合があります。

## セキュリティグループも名前が大事

リソース名全般に言えますが、セキュリティグループも名前が大事になります。
例えば、「Webサーバ用セキュリティグループ」や「DBサーバ用セキュリティグループ」など、役割が明確になるような名前を付けることが重要です。これにより、後から見たときにどのセキュリティグループがどの役割を果たしているのかが一目でわかります。

## まとめ

セキュリティグループの設定は、タイプから選択するだけでなく、柔軟に対応できるようにすることが重要です。特に、ウェルノウンポート以外のポート番号を使用する場合や、名前付けによって役割を明確にすることで、運用の効率化とセキュリティの向上が期待できます。